# Unified Data Layer - Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it's in .gitignore

# Supabase Configuration
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://wzebnjilqolwykmeozna.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6ZWJuamlscW9sd3lrbWVvem5hIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjU2MTM3NiwiZXhwIjoyMDc4MTM3Mzc2fQ.csh56y-0Ox8ZkxjMqB4H-XfDy6HD9MJnKgm2hQ_FS44

# OpenAI Configuration
# Get this from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# Server Configuration (optional)
PORT=3000
NODE_ENV=development

# PII Scrubbing Configuration (Phase 3)
PII_SCRUBBING_ENABLED=false
PII_GPT_MODEL=gpt-4o-mini
PII_GPT_TEMPERATURE=0
PII_GPT_TIMEOUT_MS=5000

# Fireflies.ai Integration (Phase 5)
# Get these from: https://app.fireflies.ai/integrations/custom/settings
# Single API key (default/shared key for team-visible transcripts)
FIREFLIES_API_KEY=your-fireflies-api-key-here
# Super Admin API key (for accessing "Only Me" private transcripts)
# JSON format: {"coach-uuid":"admin-api-key"} - maps key to coach for attribution
# Example: {"9185bd98-a828-414f-b335-c607b4ac3d11":"3c08617c-xxxx-yyyy-zzzz-xxxxxxxxxxxx"}
FIREFLIES_ADMIN_API_KEY=
FIREFLIES_WEBHOOK_SECRET=your-webhook-secret-here
FIREFLIES_SYNC_SECRET=your-sync-secret-here

# Slack Notifications (Optional)
# Admin alerts webhook (e.g., missing client notifications)
# Create at: https://api.slack.com/apps → Incoming Webhooks
SLACK_ADMIN_WEBHOOK_URL=https://hooks.slack.com/services/your-webhook-url
# Transcript saved notifications - channel: #unified-data-layer
SLACK_TRANSCRIPT_WEBHOOK_URL=https://hooks.slack.com/services/your-webhook-url

# Error Tracking (Optional, Phase 6)
# Get DSN from: https://sentry.io → Settings → Client Keys (DSN)
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# CORS Configuration (Production)
# Comma-separated list of allowed origins for production
# Leave empty to allow all origins
CORS_ORIGINS=https://chat.openai.com,https://unified-data-layer.vercel.app

# Notes:
# - SUPABASE_URL: Your Supabase project URL (NOT the anon key URL)
# - SUPABASE_SERVICE_KEY: The service_role key (NOT the anon public key) - has admin privileges
# - OPENAI_API_KEY: Your OpenAI API key with access to embeddings and chat models
# - PORT: Local development server port (default: 3000)
# - NODE_ENV: development | production | test
# - PII_SCRUBBING_ENABLED: Enable automatic PII detection and redaction (default: false)
# - PII_GPT_MODEL: GPT model for context-aware PII detection (default: gpt-4o-mini)
# - PII_GPT_TEMPERATURE: Temperature for GPT (0 = deterministic, default: 0)
# - PII_GPT_TIMEOUT_MS: Timeout for GPT API calls in milliseconds (default: 5000)
# - FIREFLIES_API_KEY: Default/shared API key from Fireflies.ai dashboard
# - FIREFLIES_ADMIN_API_KEY: Super Admin key for accessing "Only Me" private transcripts
#   - JSON format: {"coach-uuid":"admin-api-key"}
#   - The coach UUID determines who gets attributed for transcripts synced with this key
#   - Only use with a Super Admin Fireflies key that can access all transcripts
# - FIREFLIES_WEBHOOK_SECRET: Secret for verifying webhook signatures from Fireflies
# - FIREFLIES_SYNC_SECRET: Secret for authenticating GitHub Actions polling sync requests
# - SLACK_ADMIN_WEBHOOK_URL: Slack webhook for admin alerts (missing client notifications)
# - SLACK_TRANSCRIPT_WEBHOOK_URL: Slack webhook for transcript saved notifications
# - SENTRY_DSN: Sentry Data Source Name for error tracking (optional)
# - CORS_ORIGINS: Comma-separated allowed origins for production CORS (optional)
